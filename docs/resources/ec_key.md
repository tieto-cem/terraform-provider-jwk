# jwk_ec_key (Resource)

This resource creates and manages EC keys for JSON Web Key (JWK) purposes.
It can be used to either sign ('sig') or encrypt ('enc') data using EC algorithms.
The 'kid' field specifies the unique identifier for the key, while the 'use' field determines 
whether the key is used for signing or encryption. The 'alg' field defines the signing or 
encryption algorithm to be used, and the 'crv' field specifies the elliptic curve to be used.

## Argument Reference

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `crv` (String) Elliptic curve used for the key. Common values include `P-256`, `P-384`, and `P-521`.
- `kid` (String) The Key ID (KID) is a unique identifier for the key. It is used to distinguish different keys in a key set.
- `use` (String) Specifies the intended use of the key. Allowed values: `sig` (for signing) and `enc` (for encryption).

### Optional

- `alg` (String) The cryptographic algorithm associated with the key. `ES256`, `ES384`, `ES512` for signing, `ECDH-ES`, `ECDH-ES+A128GCMKW`, `ECDH-ES+A128KW`, `ECDH-ES+A192GCMKW`, `ECDH-ES+A192KW`, `ECDH-ES+A256GCMKW`, `ECDH-ES+A256KW` for encryption

### Read-Only

- `json` (String, Sensitive) The JSON representation of the key in JWK (JSON Web Key) format. This value is automatically generated.



## Example Usage

```hcl
resource "jwk_ec_key" "key1" {
    use = "enc"  
    kid = "decrypt-1"
    alg = "ECDH-ES+A128KW"
    crv = "P-256"
}

output "ec_key" {
  value = jwk_ec_key.key1.json
  sensitive = true
}

output "ec_public_key" {
  value = "${nonsensitive(provider::jwk::public_key(jwk_ec_key.key1.json, "encrypt-1"))}\n"
  sensitive = false
}
```

## Importing

You can import an EC key by providing the json representation of the key. 
The key must be in the JWK format and should be a valid EC key. 

```hcl
terraform import jwk_ec_key.key1 '{"kty":"EC","use":"enc","kid":"decrypt-1","alg":"ECDH-ES+A128KW","crv":"P-256","x":"...","y":"..."}'
```
