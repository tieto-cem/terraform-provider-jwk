# jwk_rsa_key (Resource)

This resource creates and manages RSA keys for JSON Web Key (JWK) purposes.
It can be used to either sign ('sig') or encrypt ('enc') data using RSA algorithms.
The 'kid' field specifies the unique identifier for the key, while the 'use' field determines 
whether the key is used for signing or encryption. The 'alg' field defines the signing or 
encryption algorithm to be used, and the 'size' field specifies the key size in bits.

## Argument Reference

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `kid` (String) The Key ID (KID) is a unique identifier for the key. It is used to distinguish different keys in a key set.
- `size` (Number) The size of the key in bits. For RSA keys, common values are 2048, 3072, or 4096.
- `use` (String) Specifies the intended use of the key. Allowed values: `sig` (for signing) and `enc` (for encryption).

### Optional

- `alg` (String) The cryptographic algorithm associated with the key. `PS256`, `PS384`, `PS512`, `RS256`, `RS384`, `RS512` for signing, `RSA-OAEP`, `RSA-OAEP-256`, `RSA1_5` for encryption

### Read-Only

- `json` (String, Sensitive) The JSON representation of the key in JWK (JSON Web Key) format. This value is automatically generated.



## Example Usage

```hcl
resource "jwk_rsa_key" "key1" {
    use = "sig"
    kid = "sig-1"
    size = 2048
    alg = "RS256"
}

output "rsa_key" {
  value = jwk_rsa_key.key1.json
  sensitive = true
}

output "rsa_public_key" {
  value = "${nonsensitive(provider::jwk::public_key(jwk_rsa_key.key1.json, "ver-1"))}\n"
  sensitive = false
}
```

## Importing

You can import a RSA key by providing the json representation of the key. 
The key must be in the JWK format and should be a valid RSA key. 

```hcl
terraform import jwk_rsa_key.sig '{"kty":"RSA","kid":"sig-1","use":"sig","alg":"RS256","e":"AQAB","n":"...","d":"...","p":"...","q":"...","dp":"...","dq":"...","qi":"..."}'
```

